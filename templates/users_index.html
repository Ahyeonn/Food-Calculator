<!-- templates/users_index.html -->
{% extends 'base.html' %}

{% block content %}
<!-- Title -->
<div class="container">
    <div class="row text-nowrap">
        <div class="col-sm-12 col-2 d-flex align-items-center justify-content-center">
            <h1 class="fw-light m-0" style="font-size: 35px; color: rgb(69, 143, 133); padding: 45px 0px;">FOOD CALCULATOR</h1>
            <img src="static/css/images/calculator.jpeg" width="53px" class="ms-4" alt=":(">
        </div>
    </div>
</div>
<!-- Nav Bar -->
<ul class="nav justify-content-center py-1 d-flex align-items-center mb-3" style="background-color: rgb(65, 122, 111);">
    <li class="nav-item">
        <a class="nav-link text-white" href="/home">HOME</a>
    </li>
    <li class="nav-item">
        <a class="nav-link text-white ms-1" href="/daily_calorie">DAILY-CALORIE</a>
    </li>
    <li class="nav-item">
        <a class="nav-link text-white ms-1 fw-bold" style="font-size: 18px;" href="./">CALORIE-TRACKER</a>
    </li>
    <li class="nav-item">
        <a class="nav-link text-white" href="/about_us">ABOUT US</a>
    </li>
</ul>
</header>
<div class="d-flex flex-column">
    <a href="/users/new" class="text-decoration-none"><button style="width: 130px;" class="form-control ms-5 border-dark fs-5">Add User</button></a>

    <div class="container pt-5">
        <div class="row">
            <div class="col-sm-12 col-1 d-flex justify-content-center">
                {% for user in users %}
                    <div class="border border-3 d-flex flex-column align-items-center me-4 text-center">
                        <a class="text-decoration-none text-dark" href="/users/{{ user._id }}">
                            <div class="border-bottom border-3">
                                {% if user.gender == 'Male' %}
                                    <img src="./static/css/images/male.png" width="260px">
                                {% elif user.gender == 'Female' %}
                                    <img src="./static/css/images/female.png" width="260px">
                                {% endif %}
                            </div>
                            <div class="d-flex align-items-center justify-content-between fs-3 w-100 mt-2">
                                <h2 class="px-3 fw-normal">{{ user.name }}</h2>
                                <small class="fw-light">{{ user.gender }}</small>
                                <small class="px-3 fw-light">{{ user.state }}</small>
                            </div>
                        </a>
                        <div class="d-flex py-3">
                            <a class="text-decoration-none" href="/users/{{ user._id }}/edit"><button type="submit" class="me-1 form-control border-dark">Edit</button></a>
                            <p class="px-3"><form method='POST' action="/users/{{ user._id }}/delete"><button type="submit" class="me-1 form-control border-dark">Delete</button></form></p>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}